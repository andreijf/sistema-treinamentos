{% extends "base.html" %}
{% block title %}Editar Treinamento{% endblock %}
{% block content %}

<h2>Editar Cronograma</h2>

<form method="POST" class="mb-5">
    <div class="mb-3">
        <label class="form-label">Tema</label>
        <select name="tema" class="form-select" required>
            {% for t in temas %}
                <option value="{{ t[0] }}" {% if t[0] == c[1] %}selected{% endif %}>{{ t[1] }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Data</label>
        <input type="date" name="data" class="form-control" value="{{ c[3] }}" required>
    </div>

    <div class="mb-3">
        <label class="form-label">Hora</label>
        <input type="time" name="hora" class="form-control" value="{{ c[4] }}" required>
    </div>

    <div class="mb-3">
        <label class="form-label">Formato</label>
        <select name="formato" class="form-select" required>
            {% for f in ['Presencial', 'Online', 'Híbrido'] %}
                <option value="{{ f }}" {% if c[5] == f %}selected{% endif %}>{{ f }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Unidades</label>
        <select name="unidades" class="form-select" multiple required>
            {% for u in unidades %}
                <option value="{{ u[1] }}" {% if u[1] in c[6].split(',') %}selected{% endif %}>{{ u[1] }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Áreas</label>
        <select name="areas" class="form-select" multiple required>
            {% for a in areas %}
                <option value="{{ a[1] }}" {% if a[1] in c[7].split(',') %}selected{% endif %}>{{ a[1] }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Status</label>
        <select name="status" class="form-select text-white fw-bold"
                style="background-color:
                    {% if c[8] == 'Planejado' %}#1c7ed6
                    {% elif c[8] == 'Reprogramado' %}#f59f00
                    {% elif c[8] == 'Concluído' %}#37b24d
                    {% elif c[8] == 'Cancelado' %}#f03e3e
                    {% else %}#ced4da{% endif %};">
            {% for s in ['Planejado', 'Reprogramado', 'Concluído', 'Cancelado'] %}
                <option value="{{ s }}" {% if c[8] == s %}selected{% endif %}>{{ s }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Observações</label>
        <textarea name="observacoes" class="form-control" rows="4">{{ c[9] or '' }}</textarea>
    </div>

    <button type="submit" class="btn btn-success">Salvar Alterações</button>
    <a href="{{ url_for('cronograma') }}" class="btn btn-outline-secondary ms-2">Voltar</a>
</form>

{% endblock %}
